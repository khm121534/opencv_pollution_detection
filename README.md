# 🚀 OpenCV 기반 ROI 통계 분석 및 결함 자동 판별 로직 구현

## 🎯 1. 프로젝트 개요 (Overview)

본 프로젝트는 C++와 OpenCV를 활용하여 MVTec AD Bottle 데이터셋의 **병 중심부**에 대한 **정량적 외관 검사 로직**을 구현합니다. 기존의 복잡한 이미지 처리 알고리즘(예: 허프 변환) 대신, **ROI 픽셀 통계 분석**을 통해 객관적이고 안정적인 양불(Pass/Fail) 판별 기준을 확립합니다.

## 🛠️ 2. 사용 기술 및 환경 (Tech Stack)

  * **주요 언어:** C++
  * **라이브러리:** OpenCV 4.x
  * **알고리즘:** 원형 ROI 마스킹, 픽셀 평균/표준 편차 분석, 다중 임계값 판별

## 💡 3. 핵심 알고리즘 및 판별 기준

### 3.1. 원형 ROI 마스킹 기법

분석의 정확도를 높이기 위해, 단순 사각형 ROI 대신 **원형 마스킹(Masking)** 기법을 적용했습니다.

  * 원하는 크기의 사각형 영역을 추출한 후, **원형 마스크**를 생성하여 **가장 안쪽 원형 영역의 픽셀**만 정확하게 분리 및 분석합니다.

### 3.2. 통계 학습 및 임계값 설정

정상 이미지 4장의 평균 밝기($\mu$)와 표준 편차($\sigma$)를 학습하여 **직관적이고 강력한 임계값**을 설정했습니다. 테스트 이미지의 특징값이 이 임계값 중 하나라도 초과하면 불량으로 판정됩니다.

| 특징 | 정상 학습 데이터 범위 | **판별 임계값 (Threshold)** |
| :--- | :--- | :--- |
| **평균 밝기** ($\text{Avg}$) | $\approx 28.1$ \~ $29.4$ | **30.0 초과 시** |
| **표준 편차** ($\text{StdDev}$) | $\approx 14.9$ \~ $15.7$ | **17.0 초과 시** |
